
# ğŸ“– ä¹‹å‰ï¼š`React.createElement`

åœ¨ **React 17 åŠä»¥å‰ç‰ˆæœ¬**ï¼ŒJSX è¯­æ³•æœ€ç»ˆç¼–è¯‘ï¼ˆæ¯”å¦‚é€šè¿‡ Babel ç¼–è¯‘ï¼‰å‡ºæ¥çš„æ˜¯ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š

```jsx
const element = <h1>Hello, world!</h1>;
```

ç¼–è¯‘åå®é™…ä¸Šæ˜¯ï¼š

```javascript
const element = React.createElement('h1', null, 'Hello, world!');
```

æ‰€ä»¥ JSX å…¶å®æ˜¯ä¸€ä¸ª **è¯­æ³•ç³–**ï¼ŒèƒŒåè°ƒç”¨çš„æ˜¯ `React.createElement` æ–¹æ³•æ¥åˆ›å»ºè™šæ‹Ÿ DOMã€‚

---

# ğŸš€ å˜åŒ–ï¼šå¼•å…¥äº† `jsx` å‡½æ•°

ä» **React 17** å¼€å§‹ï¼ŒReact å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç¼–è¯‘æ–¹å¼ â€”â€” å«åš **æ–°çš„ JSX è½¬æ¢ï¼ˆNew JSX Transformï¼‰**ï¼Œä½† **çœŸæ­£é»˜è®¤å¯ç”¨æ˜¯åœ¨ React 18 æ—¶ä»£** é…åˆæ–°ç‰ˆçš„ Babelã€‚

æ–°çš„ JSX ç¼–è¯‘ï¼Œä¼šç›´æ¥ç¼–è¯‘æˆè°ƒç”¨ä¸€ä¸ªæ–°çš„ `jsx` å‡½æ•°ï¼Œè€Œä¸æ˜¯ `React.createElement`ã€‚æ¯”å¦‚ï¼š

```jsx
const element = <h1>Hello, world!</h1>;
```

ç»è¿‡æ–°ç‰ˆ Babelï¼ˆ@babel/preset-react 7.9.0+ï¼‰ç¼–è¯‘åï¼Œä¼šå˜æˆï¼š

```javascript
import { jsx } from 'react/jsx-runtime';

const element = jsx('h1', { children: 'Hello, world!' });
```

ä¹Ÿå°±æ˜¯è¯´ï¼š

| React ç‰ˆæœ¬          | JSX ç¼–è¯‘å                                 |
| :------------------ | :----------------------------------------- |
| React 16 åŠä»¥å‰     | `React.createElement(...)`                 |
| React 17 å¼•å…¥æ–°æ–¹æ¡ˆ | å¯ä»¥ä½¿ç”¨æ–°çš„ `jsx(...)` å‡½æ•°ï¼ˆå…¼å®¹è€æ–¹æ¡ˆï¼‰ |
| React 18            | å®Œå…¨æ¨èä½¿ç”¨ `jsx(...)`                    |

---

# ğŸ§  ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ

1. **å‡å°‘æ‰“åŒ…ä½“ç§¯**ï¼šä½¿ç”¨ `jsx` ä»¥åï¼Œä¸å†éœ€è¦åœ¨æ¯ä¸ªæ–‡ä»¶éƒ½ `import React from 'react'`ï¼Œå› ä¸º `jsx` å‡½æ•°æ˜¯ç›´æ¥å¼•å…¥çš„ï¼Œä¸ä¾èµ– React å…¨å±€å˜é‡ã€‚
   
2. **ä¼˜åŒ–æ€§èƒ½**ï¼š`jsx` å‡½æ•°ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ›´è½»é‡ï¼Œå¯ä»¥æœ‰æ›´é«˜æ•ˆçš„æ„å»ºå’Œè¿è¡Œæ—¶è¡¨ç°ã€‚

3. **æ›´çµæ´»**ï¼šæ¯”å¦‚æœªæ¥æ”¯æŒ Server Componentsã€æ–°çš„æ¸²æŸ“æ¨¡å‹ï¼Œéƒ½å¯ä»¥é€šè¿‡ `jsx-runtime` æ¨¡å—çµæ´»åœ°åˆ‡æ¢ã€‚

---

# ğŸ—ï¸ ç›¸å…³çš„ä¸¤ä¸ªè¿è¡Œæ—¶æ¨¡å—

- `react/jsx-runtime`  
  â†’ æä¾› `jsx` å’Œ `jsxs`ï¼ˆå¤šä¸ª childrenï¼‰å‡½æ•°ã€‚
  
- `react/jsx-dev-runtime`  
  â†’ å¼€å‘ç¯å¢ƒä¸‹ç”¨çš„ï¼Œæä¾›å¸¦é¢å¤– debug ä¿¡æ¯çš„ `jsxDEV` å‡½æ•°ã€‚

è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ–°ç‰ˆ React å·¥ç¨‹ä¸­ï¼Œå¾ˆå¤šæƒ…å†µä¸‹**ä¸éœ€è¦æ‰‹åŠ¨ import React**äº†ï¼Œæ¯”å¦‚ï¼š

```jsx
// React 18 ä¸­ï¼Œé»˜è®¤å¯ä»¥è¿™æ ·å†™
export default function App() {
  return <div>Hello</div>;
}
```

èƒŒåæ˜¯å¼•å…¥äº† `jsx` è¿è¡Œæ—¶ï¼Œè€Œä¸æ˜¯ `React.createElement`ã€‚

---

# ğŸ“ æ€»ç»“

| é¡¹ç›®                    | æ—§æ¨¡å¼                  | æ–°æ¨¡å¼                           |
| :---------------------- | :---------------------- | :------------------------------- |
| JSX ç¼–è¯‘æ–¹å¼            | `React.createElement`   | `jsx` å‡½æ•° (`react/jsx-runtime`) |
| å˜æ›´å¼•å…¥ç‰ˆæœ¬            | React 17 å¼•å…¥ï¼ˆéå¼ºåˆ¶ï¼‰ | React 18 æ¨èé»˜è®¤                |
| æ˜¯å¦éœ€è¦ `import React` | å¿…é¡»                    | å¯é€‰ï¼ˆå–å†³äº Babel è®¾ç½®ï¼‰        |
| ä¼˜åŠ¿                    | æ—                       | ä½“ç§¯æ›´å°ã€æ€§èƒ½æ›´ä¼˜               |

---

è¦ä¸è¦æˆ‘é¡ºä¾¿ç»™ä½ å†™ä¸€ä¸ªå° demoï¼Œè®©ä½ ç›´è§‚å¯¹æ¯”ä¸€ä¸‹ `React.createElement` å’Œ `jsx` çš„åŒºåˆ«ï¼Ÿè¦çš„è¯å‘Šè¯‰æˆ‘ï½  
ğŸ’¬ï¼ˆé¡ºä¾¿è¿˜èƒ½æ•™ä½ æ€ä¹ˆåœ¨é¡¹ç›®é‡Œåˆ‡æ¢ä½¿ç”¨æ–°æ—§ JSX Transformï¼ï¼‰